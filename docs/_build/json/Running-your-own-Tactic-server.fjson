{"body": "<div class=\"section\" id=\"running-a-tactic-server\">\n<h1>Running a Tactic Server<a class=\"headerlink\" href=\"#running-a-tactic-server\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>This is some preliminary documentation for running your own Tactic\nserver. I haven\u2019t tried following these instruction myself, so it very\nwell might not work. But this should get you started.</p>\n<p>I have so far run Tactic on Linux and under OS X.</p>\n<ol class=\"arabic simple\">\n<li>Install and start a MongoDb server. I have a note to myself that\nsays: \u201cHave to edit mongodb.conf so that it listens on all\ninterfaces (comment out the bindIp line).\u201d But I didn\u2019t do this when\nrecently creating an installation under OS X.</li>\n<li>Install and start Docker.</li>\n<li>Get the source code from the Tactic repository on Github.</li>\n<li>Create and activate a python virtual environment inside the folder.\nI did something like this:</li>\n</ol>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">virtualenv</span> <span class=\"pre\">-p</span> <span class=\"pre\">/usr/bin/python2.7</span> <span class=\"pre\">tactic_env</span></code></p>\n<p>(The -p option lets you select a the python interpreter to be used. You\nwant 2.7.x)</p>\n<p>After creating the virtual environment, you have to activate it:</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">source</span> <span class=\"pre\">tactic_venv/bin/activate</span></code></p>\n<ol class=\"arabic simple\" start=\"4\">\n<li>Download all of the dependencies. I have sometimes found that is it\nnecessary to first run:</li>\n</ol>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">sudo</span> <span class=\"pre\">apt-get</span> <span class=\"pre\">install</span> <span class=\"pre\">build-essential</span></code></p>\n<p>in order to get the installation of gevent to work. In any case, run\nthis next to install the requirements.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span> <span class=\"pre\">install</span> <span class=\"pre\">-r</span> <span class=\"pre\">requirements.txt</span></code></p>\n<ol class=\"arabic simple\" start=\"5\">\n<li>Create all of the needed docker images by cding into the tactic_app\nfolder and running:</li>\n</ol>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">docker-compose</span> <span class=\"pre\">build</span></code></p>\n<ol class=\"arabic simple\" start=\"6\">\n<li>There is no longer a step (6). Enjoy the added free time.</li>\n<li>Create a script for starting tactic. The terminal script that I use\non my ubuntu linux computer looks like this:</li>\n</ol>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cd</span> <span class=\"o\">~/</span><span class=\"n\">PycharmProjects</span><span class=\"o\">/</span><span class=\"n\">tactic</span>\n<span class=\"n\">source</span> <span class=\"n\">tactic_venv</span><span class=\"o\">/</span><span class=\"nb\">bin</span><span class=\"o\">/</span><span class=\"n\">activate</span>\n<span class=\"n\">export</span> <span class=\"n\">USE_SSL</span><span class=\"o\">=</span><span class=\"kc\">False</span>\n<span class=\"n\">export</span> <span class=\"n\">STEP_SIZE</span><span class=\"o\">=</span><span class=\"mi\">100</span>\n<span class=\"n\">export</span> <span class=\"n\">PYTHONUNBUFFERED</span><span class=\"o\">=</span><span class=\"mi\">1</span>\n<span class=\"n\">export</span> <span class=\"n\">USE_LOCAL_SERVER</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"n\">export</span> <span class=\"n\">CHUNK_SIZE</span><span class=\"o\">=</span><span class=\"mi\">200</span>\n<span class=\"n\">export</span> <span class=\"n\">MAX_QUEUE_LENGTH</span><span class=\"o\">=</span><span class=\"mi\">500</span>\n<span class=\"n\">export</span> <span class=\"n\">ANYONE_CAN_REGISTER</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"n\">export</span> <span class=\"n\">SHORT_SLEEP_PERIOD</span><span class=\"o\">=.</span><span class=\"mi\">0001</span>\n<span class=\"n\">export</span> <span class=\"n\">LONG_SLEEP_PERIOD</span><span class=\"o\">=.</span><span class=\"mi\">1</span>\n<span class=\"o\">~/</span><span class=\"n\">PycharmProjects</span><span class=\"o\">/</span><span class=\"n\">tactic</span><span class=\"o\">/</span><span class=\"n\">tactic_venv</span><span class=\"o\">/</span><span class=\"nb\">bin</span><span class=\"o\">/</span><span class=\"n\">gunicorn</span> <span class=\"o\">-</span><span class=\"n\">b</span> <span class=\"mf\">0.0</span><span class=\"o\">.</span><span class=\"mf\">0.0</span><span class=\"p\">:</span><span class=\"mi\">5000</span> <span class=\"o\">--</span><span class=\"n\">worker</span><span class=\"o\">-</span><span class=\"k\">class</span> <span class=\"nc\">socketio</span><span class=\"o\">.</span><span class=\"n\">sgunicorn</span><span class=\"o\">.</span><span class=\"n\">GeventSocketIOWorker</span> <span class=\"n\">tactic_run</span><span class=\"p\">:</span><span class=\"n\">app</span>\n</pre></div>\n</div>\n<p>You\u2019ll have to edit the first and last lines so that they contain the\ncorrect paths for your own machine.</p>\n<ol class=\"arabic simple\" start=\"8\">\n<li>Execute this script. If you have lived a good life to this point,\nthen the Tactic server will start. If it starts, but gives an error\nmessage or two, count your blessings and go on to step (9).</li>\n<li>Go to a browser and enter 0.0.0.0:5000. You should see the prompt\nto log in. Since there aren\u2019t any user accounts, you can\u2019t log in\nyet. So, click the \u201cregister\u2019 button to create an account. The\nfirst thing you should do is to create an account with the\nusername\u201dadmin.\u201d That\u2019s the administration account. The other\nspecial account is called \u201crepository.\u201d This is where the shared\nresources live. If you set ANYONE_CAN_REGISTER=False then the admin\nuser can still create new accounts, but no one else can.</li>\n<li>One remaining problem is that the repository on your local machine\nisn\u2019t populated. There\u2019s no simple fix for this right now. The\nright fix might be to allow a local server to still use a remote\nrepository. But that isn\u2019t implemented.</li>\n</ol>\n</div>\n", "alabaster_version": "0.7.10", "display_toc": false, "title": "Running a Tactic Server", "sourcename": "Running-your-own-Tactic-server.rst.txt", "customsidebar": null, "metatags": "", "current_page_name": "Running-your-own-Tactic-server", "next": {"link": "../open-source-resources/", "title": "Open Source Resources"}, "rellinks": [["genindex", "General Index", "I", "index"], ["open-source-resources", "Open Source Resources", "N", "next"], ["Working-With-Code-Resources", "Code Resources", "P", "previous"]], "meta": {}, "parents": [], "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Running a Tactic Server</a></li>\n</ul>\n", "prev": {"link": "../Working-With-Code-Resources/", "title": "Code Resources"}, "page_source_suffix": ".rst"}